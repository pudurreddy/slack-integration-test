name: Slack-integration-test

on:
  push:   # Triggers workflow on every push

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
       - name: Notify Slack on Success
        if: success()  # Only runs if all previous steps pass
        uses: slackapi/slack-github-action@v2
        with:
          webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          webhook-type: incoming-webhook
          payload: |
            {
              "text": "ðŸš€ *Deployment Successful!* \n *Environment:* Production \n *Deployer:* ${{ github.actor }} \n *Branch:* ${{ github.ref_name }}"
            }
